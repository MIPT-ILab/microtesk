-------------------------------------------------------------------------------
| MicroTESK Installation Guide                                                |
-------------------------------------------------------------------------------

System Requirements

MicroTESK is a set of Java-based utilities that are run from the command line.
It can be used on Windows, Linux and OS X machines that have JDK 1.6 or later
installed. To build MicroTESK from source code or to build generated Java
models, Apache Ant version 1.8 or later is required. To generate test data
based on constraints, MicroTESK needs Microsoft Research Z3 that can work under
the corresponding operating system.

Installation Steps

1. Download from http://forge.ispras.ru/projects/microtesk/files and unpack
   the MicroTESK installation package (the .tar.gz file, latest release) to
   your computer.

2. Download and install constraint solver tools to the <installation dir>/tools
   directory (see the "tools/README" document for details).

3. Set the <installation dir>/bin as the working directory (add the path to
   the PATH environment variable).

4. Now you can run the compile.sh (or .bat) script to create a microprocessor
   model and the generate.sh (or .bat) script to generate test for this model.

Installation Directory Structure

The MicroTESK installation directory contains the following subdirectories:

--------------------------------------------------------------------------------
| arch | Examples of microprocessor specifications and test templates for the  |
|      | described designs                                                     |
| bin  | Scripts to run features of MicroTESK (modelling and test generation)  |
| doc  | Documentation on MicroTESK and nML/Sim-nML                            |
| gen  | Generated Java models of the specified microprocessor designs         |
| lib  | JAR files and Ruby scripts to perform modelling and test generation   |
|      | tasks                                                                 |
--------------------------------------------------------------------------------

Running MicroTESK

To generate a Java model of a microprocessor from its nML specification, a user
needs to run the compile.sh script (Unix, Linux, OS X) or the compile.bat
script (Windows). For example, the following command generates a model from a
MIPS ISA specification:

sh compile.sh ../arch/mips/model/mips.nml

To generate a test program, a user needs to use the generate.sh script (Unix,
Linux, OS X) or the generate.bat script (Windows). The scripts require the
following parameters:

1. model name;
2. test template file;
3. target test program source code file.

For example, the following command runs the mips_demo.rb test template for the
MIPS model generated by the command from the previous example and saves the
generated test program to the test.asm file:

sh generate.sh mips ../arch/mips/templates/mips_demo.rb test.asm
